---
description: "[オプション] 学習事項をRules/Commands/Skillsとして記録"
description-en: "[Optional] Save learnings as Rules/Commands/Skills"
---

# /remember - 学習事項をルール化・コマンド化・スキル化

作業中に「これは次回も同じようにやってほしい」と思った事項を、最適な形式（Rules/Commands/Skills）で記録します。

## バイブコーダー向け（こう言えばOK）

- 「**このやり方、次からも同じでお願い**」→ このコマンド
- 「**それ、ルールにして**」→ ルール化（禁止事項/必須事項）
- 「**手順として残して**」→ コマンド化/テンプレ化
- 「**理由も含めて覚えて**」→ decisions（Why）/patterns（How）に分けて残します

## できること（成果物）

- “学び”をその場のメモで終わらせず、再利用できる形（Rules/Commands/Skills/SSOT）に変換
- 次回以降、同じ指示をしなくても再現できる状態を作る

---

## 使い方

```
/remember [内容]
```

または自然言語で：
- 「これをルール化して」
- 「このやり方を覚えておいて」
- 「次回からこうしてほしい」

---

## ⚠️ 実行手順（必須）

### Step 1: 内容の分析

ユーザーが記録したい内容を分析し、以下を判断：

1. **何を記録するか**: 具体的な内容を明確化
2. **なぜ重要か**: 背景・理由を理解
3. **どこに記録するか**: Rules/Commands/Skills のいずれか

### Step 2: 最適な記録先の選択

| 記録先 | 適したケース | 例 |
|--------|-------------|-----|
| **Rules** | 常に守るべき制約・禁止事項・規約 | 「any型禁止」「日本語コメント必須」「console.log残さない」 |
| **Commands** | 繰り返し実行する操作・手順 | 「デプロイ前チェック」「PR作成手順」「環境構築」 |
| **Skills** | 複雑なタスクの実装パターン・戦略 | 「認証機能の実装方法」「エラーハンドリング戦略」 |

> 💡 **決定事項（Why）やパターン（How）を SSOT に正式記録したい場合**は
> `/sync-ssot-from-memory` を使用してください。Claude-mem の観測から選別して昇格できます。

### Step 3: 判断基準フローチャート

```
ユーザーの入力内容
    │
    ├─「〜してはいけない」「〜は禁止」「〜は必須」
    │   → Rules（制約・規約）
    │
    ├─「〜する時はこうする」「〜の手順」「〜のやり方」
    │   → Commands（操作手順）
    │
    ├─「〜の実装方法」「〜のパターン」「〜の戦略」
    │   → Skills（実装知識）
    │
    └─「〜と決めた」「〜という理由で」「正式に残して」
        → /sync-ssot-from-memory を案内
```

### Step 4: ファイル作成・更新

選択した記録先に応じて、適切なファイルを作成または更新：

#### Rules の場合

```bash
# .claude/rules/[rule-name].md を作成
```

```markdown
---
description: [ルールの説明]
paths: "[適用対象のglobパターン]"  # または alwaysApply: true
---

# [ルール名]

## ルール

- [具体的なルール内容]

## 理由

[なぜこのルールが必要か]

## 例

### ✅ 良い例
[コード例]

### ❌ 悪い例
[コード例]
```

#### Commands の場合

```bash
# .cursor/commands/[command-name].md を作成
```

```markdown
# /[command-name] - [説明]

## 概要

[このコマンドが何をするか]

## 手順

1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

## チェックリスト

- [ ] [確認項目1]
- [ ] [確認項目2]
```

#### Skills の場合

```bash
# .claude/skills/[skill-name].md を作成
```

```markdown
# [スキル名]

## 概要

[このスキルが解決する問題]

## 実装パターン

### パターン1: [名前]

```[言語]
[コード例]
```

## 使用場面

- [場面1]
- [場面2]

## 注意点

- [注意点1]
- [注意点2]
```

### Step 5: 確認と報告

作成・更新したファイルをユーザーに報告：

```
✅ 記録完了

📁 記録先: .claude/rules/no-console-log.md
📝 種類: Rule（制約）
📋 内容: 本番コードに console.log を残さない

次回から自動的に適用されます。
```

---

## 記録先の詳細

### Rules（.claude/rules/）

**用途**: 常に適用される制約・規約

**例**:
- コーディング規約（命名規則、インポート順序）
- 禁止事項（any型、console.log、マジックナンバー）
- 必須事項（型定義、エラーハンドリング、テスト）

**特徴**:
- `paths:` で適用範囲を限定可能
- `alwaysApply: true` で全体適用
- Claude が自動的に参照

### Commands（.cursor/commands/）

**用途**: 繰り返し実行する操作手順

**例**:
- デプロイ前チェックリスト
- PR作成手順
- 環境構築手順
- トラブルシューティング手順

**特徴**:
- `/command-name` で呼び出し可能
- チェックリスト形式で進捗管理
- Cursor と Claude Code で共有

### Skills（.claude/skills/）

**用途**: 複雑なタスクの実装知識

**例**:
- 認証機能の実装パターン
- APIエラーハンドリング戦略
- テスト設計のベストプラクティス
- パフォーマンス最適化手法

**特徴**:
- 詳細なコード例を含む
- 複数のパターン・選択肢を提示
- プロジェクト固有のノウハウ蓄積

### SSOT への正式記録

決定事項（Why）やパターン（How）を `.claude/memory/decisions.md` / `patterns.md` に正式記録したい場合は、**`/sync-ssot-from-memory`** を使用してください。

Claude-mem に蓄積された観測から、重要なものを選別して SSOT に昇格できます。

---

## 例

### 例1: 制約のルール化

```
ユーザー: 「console.logを本番に残さないでほしい」
```

→ **Rules** に記録

```markdown
# .claude/rules/no-console-log.md

---
description: 本番コードに console.log を残さない
paths: "**/*.{ts,tsx,js,jsx}"
---

# No Console Log Rule

## ルール

- `console.log` は本番コードに残さない
- デバッグ用途でも、コミット前に削除すること

## 代替手段

- ロギングライブラリ（winston, pino）を使用
- 開発環境のみで有効な DEBUG フラグを使用
```

### 例2: 手順のコマンド化

```
ユーザー: 「PR作成前にこのチェックをやってほしい」
```

→ **Commands** に記録

```markdown
# .cursor/commands/pre-pr-check.md

# /pre-pr-check - PR作成前チェック

## チェックリスト

- [ ] テストが全て通る
- [ ] lint エラーがない
- [ ] 型エラーがない
- [ ] console.log が残っていない
- [ ] 不要なコメントを削除した
```

### 例3: 実装パターンのスキル化

```
ユーザー: 「この認証の実装パターンを覚えておいて」
```

→ **Skills** に記録

```markdown
# .claude/skills/auth-pattern.md

# 認証実装パターン

## JWT + Refresh Token 方式

### トークン構成

- Access Token: 15分有効
- Refresh Token: 7日有効

### 実装例

[コード例]
```

---

## 関連コマンド

| コマンド | 用途 |
|---------|------|
| `/remember` | 学習事項を記録（本コマンド） |
| `/setup-cursor` | 初期セットアップ（Cursor連携） |
| `/health-check` | 設定の健全性チェック |
