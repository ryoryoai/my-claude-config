# Plans.md マーカーリファレンス

Plans.md で使用するすべてのマーカーの詳細仕様。

---

## マーカー一覧

### Claude Code 用マーカー

| マーカー | 状態 | 説明 |
|---------|------|------|
| `cc:TODO` | 未着手 | Claude Code が着手すべきタスク |
| `cc:WIP` | 作業中 | Claude Code が現在作業中 |
| `cc:完了` | 完了待ち | Claude Code の作業完了、PM確認待ち |

### PM（Cursor/PM Claude）用マーカー

| マーカー | 状態 | 説明 |
|---------|------|------|
| `pm:依頼中` | 依頼済 | PM から Claude Code への依頼 |
| `pm:確認済` | 確認完了 | PM がレビュー・確認完了 |

### 互換マーカー

旧形式との互換性のために以下も認識：

| 互換マーカー | 正式マーカー |
|-------------|-------------|
| `cursor:依頼中` | `pm:依頼中` |
| `cursor:確認済` | `pm:確認済` |

### 共通マーカー

| マーカー | 説明 |
|---------|------|
| `blocked` | ブロック中（理由を併記必須） |

---

## マーカーの書式ルール

### 正しい書式

```markdown
- [ ] タスク名 `cc:WIP`
- [x] タスク名 `cc:完了` (2024-01-15)
```

### よくある間違い

| 間違い | 問題点 |
|--------|--------|
| `cc: WIP` | コロン後にスペース |
| `cc:wip` | 小文字（大文字/日本語を使用） |
| `CC:WIP` | プレフィックスが大文字 |
| バッククォートなし | 検索・パースが困難 |

---

## 状態遷移

```
[新規タスク]
    │
    ▼
pm:依頼中 ──→ cc:TODO ──→ cc:WIP ──→ cc:完了 ──→ pm:確認済
                ↑            │
                └────────────┘
                 (差し戻し)
```

### 遷移ルール

| 遷移 | 実行者 | タイミング |
|------|--------|-----------|
| `pm:依頼中` → `cc:WIP` | Claude Code | タスク着手時 |
| `cc:TODO` → `cc:WIP` | Claude Code | タスク着手時 |
| `cc:WIP` → `cc:完了` | Claude Code | 作業完了時 |
| `cc:完了` → `pm:確認済` | PM | レビュー完了時 |
| `*` → `blocked` | どちらでも | ブロック発生時 |
| `cc:完了` → `cc:WIP` | Claude Code | 差し戻し対応時 |

---

## 検索パターン

```bash
# 全マーカーを検索
grep -E '`(cc:|pm:|cursor:|blocked)' Plans.md

# 進行中タスク
grep '`cc:WIP`' Plans.md

# 確認待ちタスク
grep '`cc:完了`' Plans.md

# PM依頼タスク
grep -E '`(pm|cursor):依頼中`' Plans.md
```
